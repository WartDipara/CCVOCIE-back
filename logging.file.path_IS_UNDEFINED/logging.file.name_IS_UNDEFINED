|INFO|2024-12-15 20:30:27.821|main||uid=|Starting ServerApplication using Java 1.8.0_422 on DESKTOP-A5MDFLQ with PID 13480 (D:\JavaCode\Learn\ccvoice-backend\ccvoice-chat-server\target\classes started by Wart in D:\JavaCode\Learn\ccvoice-backend)|
|INFO|2024-12-15 20:30:27.832|main||uid=|The following 1 profile is active: "prod"|
|INFO|2024-12-15 20:30:29.925|main||uid=|Multiple Spring Data modules found, entering strict repository configuration mode!|
|INFO|2024-12-15 20:30:29.928|main||uid=|Bootstrapping Spring Data Redis repositories in DEFAULT mode.|
|INFO|2024-12-15 20:30:29.974|main||uid=|Finished Spring Data repository scanning in 31 ms. Found 0 Redis repository interfaces.|
|INFO|2024-12-15 20:30:30.576|main||uid=|Tomcat initialized with port(s): 8080 (http)|
|INFO|2024-12-15 20:30:30.584|main||uid=|Starting service [Tomcat]|
|INFO|2024-12-15 20:30:30.585|main||uid=|Starting Servlet engine: [Apache Tomcat/9.0.62]|
|INFO|2024-12-15 20:30:30.761|main||uid=|Initializing Spring embedded WebApplicationContext|
|INFO|2024-12-15 20:30:30.761|main||uid=|Root WebApplicationContext: initialization completed in 2864 ms|
|WARN|2024-12-15 20:30:32.435|main||uid=|Unknown channel option 'SO_KEEPALIVE' for channel '[id: 0xdc101376]'|
|INFO|2024-12-15 20:30:32.443|nioEventLoopGroup-2-1||uid=|[id: 0xdc101376] REGISTERED|
|INFO|2024-12-15 20:30:32.444|nioEventLoopGroup-2-1||uid=|[id: 0xdc101376] BIND: 0.0.0.0/0.0.0.0:8090|
|INFO|2024-12-15 20:30:32.445|nioEventLoopGroup-2-1||uid=|[id: 0xdc101376, L:/0:0:0:0:0:0:0:0:8090] ACTIVE|
|INFO|2024-12-15 20:30:32.656|main||uid=|Redisson 3.17.1|
|INFO|2024-12-15 20:30:33.061|redisson-netty-4-18||uid=|1 connections initialized for 111.229.84.34/111.229.84.34:6379|
|INFO|2024-12-15 20:30:33.330|redisson-netty-4-19||uid=|24 connections initialized for 111.229.84.34/111.229.84.34:6379|
|INFO|2024-12-15 20:30:33.483|main||uid=|Exposing 1 endpoint(s) beneath base path '/actuator'|
|WARN|2024-12-15 20:30:33.619|main||uid=|

Using generated security password: 3c7e5729-3dd2-4215-8797-26b015b1e9c5

This generated password is for development use only. Your security configuration must be updated before running your application in production.
|
|INFO|2024-12-15 20:30:33.721|main||uid=|Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@b94703b, org.springframework.security.web.context.SecurityContextPersistenceFilter@38f502fc, org.springframework.security.web.header.HeaderWriterFilter@f59da34, org.springframework.security.web.authentication.logout.LogoutFilter@4e7bc939, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@67afe909, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@60fc7f43, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@33a47707, org.springframework.security.web.session.SessionManagementFilter@52a67293, org.springframework.security.web.access.ExceptionTranslationFilter@48cf8414, org.springframework.security.web.access.intercept.AuthorizationFilter@a9e8da1]|
|INFO|2024-12-15 20:30:33.736|main||uid=|Mapped URL path [/v2/api-docs] onto method [springfox.documentation.swagger2.web.Swagger2ControllerWebMvc#getDocumentation(String, HttpServletRequest)]|
|INFO|2024-12-15 20:30:36.030|main||uid=|running container: DefaultRocketMQListenerContainer{consumerGroup='test-consumer-group', namespace='', nameServer='111.229.84.34:9876', topic='test-topic', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING', tlsEnable=false}|
|INFO|2024-12-15 20:30:36.031|main||uid=|Register the listener to container, listenerBeanName:testSendConsumer, containerBeanName:org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer_1|
|INFO|2024-12-15 20:30:36.680|main||uid=|running container: DefaultRocketMQListenerContainer{consumerGroup='chat_send_msg_gp', namespace='', nameServer='111.229.84.34:9876', topic='chat_send_msg', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING', tlsEnable=false}|
|INFO|2024-12-15 20:30:36.680|main||uid=|Register the listener to container, listenerBeanName:msgSendConsumer, containerBeanName:org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer_2|
|INFO|2024-12-15 20:30:36.707|main||uid=|Tomcat started on port(s): 8080 (http) with context path ''|
|INFO|2024-12-15 20:30:36.708|main||uid=|Documentation plugins bootstrapped|
|INFO|2024-12-15 20:30:36.710|main||uid=|Found 1 custom documentation plugin(s)|
|INFO|2024-12-15 20:30:36.734|main||uid=|Scanning for api listing references|
|INFO|2024-12-15 20:30:36.842|main||uid=|Started ServerApplication in 9.565 seconds (JVM running for 10.666)|
|INFO|2024-12-15 20:30:37.651|RMI TCP Connection(2)-172.18.128.1||uid=|Initializing Spring DispatcherServlet 'dispatcherServlet'|
|INFO|2024-12-15 20:30:37.652|RMI TCP Connection(2)-172.18.128.1||uid=|Initializing Servlet 'dispatcherServlet'|
|INFO|2024-12-15 20:30:37.653|RMI TCP Connection(2)-172.18.128.1||uid=|Completed initialization in 1 ms|
|INFO|2024-12-15 20:30:37.654|RMI TCP Connection(3)-172.18.128.1||uid=|HikariPool-1 - Starting...|
|INFO|2024-12-15 20:30:37.999|RMI TCP Connection(3)-172.18.128.1||uid=|HikariPool-1 - Start completed.|
|INFO|2024-12-15 20:30:54.696|nioEventLoopGroup-2-1||uid=|[id: 0xdc101376, L:/0:0:0:0:0:0:0:0:8090] READ: [id: 0xe689ed80, L:/127.0.0.1:8090 - R:/127.0.0.1:58350]|
|INFO|2024-12-15 20:30:54.698|nioEventLoopGroup-2-1||uid=|[id: 0xdc101376, L:/0:0:0:0:0:0:0:0:8090] READ COMPLETE|
|INFO|2024-12-15 20:31:17.583|nioEventLoopGroup-3-1||uid=|用户test3登录成功|
|WARN|2024-12-15 20:31:17.672|nioEventLoopGroup-3-1||uid=|An exceptionCaught() event was fired, and it reached at the tail of the pipeline. It usually means the last handler in the pipeline did not handle the exception.|
org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: java.sql.SQLSyntaxErrorException: Table 'ccdb.user_role' doesn't exist
### The error may exist in com/ela/ccvoice/common/user/mapper/UserRoleMapper.java (best guess)
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: SELECT  id,uid,role_id,create_time,update_time  FROM user_role     WHERE (uid = ?)
### Cause: java.sql.SQLSyntaxErrorException: Table 'ccdb.user_role' doesn't exist
; bad SQL grammar []; nested exception is java.sql.SQLSyntaxErrorException: Table 'ccdb.user_role' doesn't exist
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:239)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:70)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:88)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:440)
	at com.sun.proxy.$Proxy101.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:223)
	at com.baomidou.mybatisplus.core.override.MybatisMapperMethod.executeForMany(MybatisMapperMethod.java:173)
	at com.baomidou.mybatisplus.core.override.MybatisMapperMethod.execute(MybatisMapperMethod.java:78)
	at com.baomidou.mybatisplus.core.override.MybatisMapperProxy$PlainMethodInvoker.invoke(MybatisMapperProxy.java:148)
	at com.baomidou.mybatisplus.core.override.MybatisMapperProxy.invoke(MybatisMapperProxy.java:89)
	at com.sun.proxy.$Proxy116.selectList(Unknown Source)
	at com.baomidou.mybatisplus.extension.conditions.query.ChainQuery.list(ChainQuery.java:39)
	at com.ela.ccvoice.common.user.dao.UserRoleDao.listByUid(UserRoleDao.java:20)
	at com.ela.ccvoice.common.user.dao.UserRoleDao$$FastClassBySpringCGLIB$$20e28e98.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy.invokeMethod(CglibAopProxy.java:386)
	at org.springframework.aop.framework.CglibAopProxy.access$000(CglibAopProxy.java:85)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:704)
	at com.ela.ccvoice.common.user.dao.UserRoleDao$$EnhancerBySpringCGLIB$$3ddaef71.listByUid(<generated>)
	at com.ela.ccvoice.common.user.service.cache.UserCache.getRoleSet(UserCache.java:171)
	at com.ela.ccvoice.common.user.service.impl.RoleServiceImpl.hasPower(RoleServiceImpl.java:21)
	at com.ela.ccvoice.common.websocket.service.impl.WebSocketServiceImpl.loginSuccess(WebSocketServiceImpl.java:248)
	at com.ela.ccvoice.common.websocket.service.impl.WebSocketServiceImpl.handleUsernamePasswordLogin(WebSocketServiceImpl.java:146)
	at com.ela.ccvoice.common.websocket.service.impl.WebSocketServiceImpl.handleLoginReq(WebSocketServiceImpl.java:109)
	at com.ela.ccvoice.common.websocket.NettyWebSocketServerHandler.channelRead0(NettyWebSocketServerHandler.java:75)
	at com.ela.ccvoice.common.websocket.NettyWebSocketServerHandler.channelRead0(NettyWebSocketServerHandler.java:19)
	at io.netty.channel.SimpleChannelInboundHandler.channelRead(SimpleChannelInboundHandler.java:99)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.handler.codec.MessageToMessageDecoder.channelRead(MessageToMessageDecoder.java:103)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.channel.ChannelInboundHandlerAdapter.channelRead(ChannelInboundHandlerAdapter.java:93)
	at io.netty.handler.codec.http.websocketx.Utf8FrameValidator.channelRead(Utf8FrameValidator.java:89)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:327)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:299)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:286)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:722)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:658)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:584)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:496)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:986)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.lang.Thread.run(Thread.java:750)
Caused by: java.sql.SQLSyntaxErrorException: Table 'ccdb.user_role' doesn't exist
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:120)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:916)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:354)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.query(PreparedStatementHandler.java:64)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:79)
	at com.baomidou.mybatisplus.core.executor.MybatisSimpleExecutor.doQuery(MybatisSimpleExecutor.java:69)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:325)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:156)
	at com.baomidou.mybatisplus.core.executor.MybatisCachingExecutor.query(MybatisCachingExecutor.java:165)
	at com.baomidou.mybatisplus.core.executor.MybatisCachingExecutor.query(MybatisCachingExecutor.java:92)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:151)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:145)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:140)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:426)
	... 57 common frames omitted
|INFO|2024-12-15 20:43:51.333|NettyClientSelector_1||uid=|closeChannel: close the connection to remote address[111.229.84.34:10911] result: true|
|INFO|2024-12-15 20:43:51.334|NettyClientSelector_1||uid=|closeChannel: close the connection to remote address[111.229.84.34:9876] result: true|
|INFO|2024-12-15 20:43:51.406|NettyClientSelector_1||uid=|closeChannel: close the connection to remote address[111.229.84.34:10911] result: true|
|INFO|2024-12-15 20:43:51.406|NettyClientSelector_1||uid=|closeChannel: close the connection to remote address[111.229.84.34:9876] result: true|
|INFO|2024-12-15 20:43:51.587|SpringApplicationShutdownHook||uid=|container destroyed, DefaultRocketMQListenerContainer{consumerGroup='chat_send_msg_gp', namespace='', nameServer='111.229.84.34:9876', topic='chat_send_msg', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING', tlsEnable=false}|
|INFO|2024-12-15 20:43:51.588|SpringApplicationShutdownHook||uid=|container destroyed, DefaultRocketMQListenerContainer{consumerGroup='test-consumer-group', namespace='', nameServer='111.229.84.34:9876', topic='test-topic', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING', tlsEnable=false}|
|INFO|2024-12-15 20:43:51.666|NettyClientSelector_1||uid=|closeChannel: close the connection to remote address[111.229.84.34:10911] result: true|
|INFO|2024-12-15 20:43:51.666|NettyClientSelector_1||uid=|closeChannel: close the connection to remote address[111.229.84.34:9876] result: true|
|INFO|2024-12-15 20:43:51.750|NettyClientSelector_1||uid=|closeChannel: close the connection to remote address[111.229.84.34:10911] result: true|
|INFO|2024-12-15 20:43:51.750|NettyClientSelector_1||uid=|closeChannel: close the connection to remote address[111.229.84.34:9876] result: true|
|INFO|2024-12-15 20:43:51.802|nioEventLoopGroup-2-1||uid=|[id: 0xdc101376, L:/0:0:0:0:0:0:0:0:8090] INACTIVE|
|INFO|2024-12-15 20:43:51.802|nioEventLoopGroup-2-1||uid=|[id: 0xdc101376, L:/0:0:0:0:0:0:0:0:8090] UNREGISTERED|
|INFO|2024-12-15 20:43:53.881|SpringApplicationShutdownHook||uid=|成功关闭websocket server|
|INFO|2024-12-15 20:43:53.883|SpringApplicationShutdownHook||uid=|HikariPool-1 - Shutdown initiated...|
|INFO|2024-12-15 20:43:53.891|SpringApplicationShutdownHook||uid=|HikariPool-1 - Shutdown completed.|
|INFO|2024-12-15 20:43:59.215|main||uid=|Starting ServerApplication using Java 1.8.0_422 on DESKTOP-A5MDFLQ with PID 7380 (D:\JavaCode\Learn\ccvoice-backend\ccvoice-chat-server\target\classes started by Wart in D:\JavaCode\Learn\ccvoice-backend)|
|INFO|2024-12-15 20:43:59.217|main||uid=|The following 1 profile is active: "prod"|
|INFO|2024-12-15 20:44:00.238|main||uid=|Multiple Spring Data modules found, entering strict repository configuration mode!|
|INFO|2024-12-15 20:44:00.240|main||uid=|Bootstrapping Spring Data Redis repositories in DEFAULT mode.|
|INFO|2024-12-15 20:44:00.285|main||uid=|Finished Spring Data repository scanning in 30 ms. Found 0 Redis repository interfaces.|
|INFO|2024-12-15 20:44:00.979|main||uid=|Tomcat initialized with port(s): 8080 (http)|
|INFO|2024-12-15 20:44:00.989|main||uid=|Starting service [Tomcat]|
|INFO|2024-12-15 20:44:00.990|main||uid=|Starting Servlet engine: [Apache Tomcat/9.0.62]|
|INFO|2024-12-15 20:44:01.134|main||uid=|Initializing Spring embedded WebApplicationContext|
|INFO|2024-12-15 20:44:01.134|main||uid=|Root WebApplicationContext: initialization completed in 1881 ms|
|WARN|2024-12-15 20:44:02.697|main||uid=|Unknown channel option 'SO_KEEPALIVE' for channel '[id: 0xf8a1b3c8]'|
|INFO|2024-12-15 20:44:02.703|nioEventLoopGroup-2-1||uid=|[id: 0xf8a1b3c8] REGISTERED|
|INFO|2024-12-15 20:44:02.704|nioEventLoopGroup-2-1||uid=|[id: 0xf8a1b3c8] BIND: 0.0.0.0/0.0.0.0:8090|
|INFO|2024-12-15 20:44:02.706|nioEventLoopGroup-2-1||uid=|[id: 0xf8a1b3c8, L:/0:0:0:0:0:0:0:0:8090] ACTIVE|
|INFO|2024-12-15 20:44:02.910|main||uid=|Redisson 3.17.1|
|INFO|2024-12-15 20:44:03.293|redisson-netty-4-18||uid=|1 connections initialized for 111.229.84.34/111.229.84.34:6379|
|INFO|2024-12-15 20:44:03.581|redisson-netty-4-19||uid=|24 connections initialized for 111.229.84.34/111.229.84.34:6379|
|INFO|2024-12-15 20:44:03.707|main||uid=|Exposing 1 endpoint(s) beneath base path '/actuator'|
|WARN|2024-12-15 20:44:03.845|main||uid=|

Using generated security password: c30d7646-2a52-4c50-baf5-0b5d35cff4fd

This generated password is for development use only. Your security configuration must be updated before running your application in production.
|
|INFO|2024-12-15 20:44:03.955|main||uid=|Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4d290757, org.springframework.security.web.context.SecurityContextPersistenceFilter@67afe909, org.springframework.security.web.header.HeaderWriterFilter@52a67293, org.springframework.security.web.authentication.logout.LogoutFilter@6fc1a8f6, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6903ed0e, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3212d853, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@720a1fd0, org.springframework.security.web.session.SessionManagementFilter@38f502fc, org.springframework.security.web.access.ExceptionTranslationFilter@15d65fcf, org.springframework.security.web.access.intercept.AuthorizationFilter@b94703b]|
|INFO|2024-12-15 20:44:03.972|main||uid=|Mapped URL path [/v2/api-docs] onto method [springfox.documentation.swagger2.web.Swagger2ControllerWebMvc#getDocumentation(String, HttpServletRequest)]|
|INFO|2024-12-15 20:44:04.014|nioEventLoopGroup-2-1||uid=|[id: 0xf8a1b3c8, L:/0:0:0:0:0:0:0:0:8090] READ: [id: 0x294874db, L:/127.0.0.1:8090 - R:/127.0.0.1:61571]|
|INFO|2024-12-15 20:44:04.015|nioEventLoopGroup-2-1||uid=|[id: 0xf8a1b3c8, L:/0:0:0:0:0:0:0:0:8090] READ COMPLETE|
|INFO|2024-12-15 20:44:06.220|main||uid=|running container: DefaultRocketMQListenerContainer{consumerGroup='test-consumer-group', namespace='', nameServer='111.229.84.34:9876', topic='test-topic', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING', tlsEnable=false}|
|INFO|2024-12-15 20:44:06.220|main||uid=|Register the listener to container, listenerBeanName:testSendConsumer, containerBeanName:org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer_1|
|INFO|2024-12-15 20:44:06.889|main||uid=|running container: DefaultRocketMQListenerContainer{consumerGroup='chat_send_msg_gp', namespace='', nameServer='111.229.84.34:9876', topic='chat_send_msg', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING', tlsEnable=false}|
|INFO|2024-12-15 20:44:06.889|main||uid=|Register the listener to container, listenerBeanName:msgSendConsumer, containerBeanName:org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer_2|
|INFO|2024-12-15 20:44:06.922|main||uid=|Tomcat started on port(s): 8080 (http) with context path ''|
|INFO|2024-12-15 20:44:06.923|main||uid=|Documentation plugins bootstrapped|
|INFO|2024-12-15 20:44:06.926|main||uid=|Found 1 custom documentation plugin(s)|
|INFO|2024-12-15 20:44:06.952|main||uid=|Scanning for api listing references|
|INFO|2024-12-15 20:44:07.085|main||uid=|Started ServerApplication in 8.291 seconds (JVM running for 9.129)|
|INFO|2024-12-15 20:44:07.637|RMI TCP Connection(2)-172.18.128.1||uid=|Initializing Spring DispatcherServlet 'dispatcherServlet'|
|INFO|2024-12-15 20:44:07.637|RMI TCP Connection(2)-172.18.128.1||uid=|Initializing Servlet 'dispatcherServlet'|
|INFO|2024-12-15 20:44:07.638|RMI TCP Connection(3)-172.18.128.1||uid=|HikariPool-1 - Starting...|
|INFO|2024-12-15 20:44:07.640|RMI TCP Connection(2)-172.18.128.1||uid=|Completed initialization in 3 ms|
|INFO|2024-12-15 20:44:07.881|RMI TCP Connection(3)-172.18.128.1||uid=|HikariPool-1 - Start completed.|
|INFO|2024-12-15 20:44:13.536|nioEventLoopGroup-3-1||uid=|用户test3登录成功|
|WARN|2024-12-15 20:44:13.593|nioEventLoopGroup-3-1||uid=|An exceptionCaught() event was fired, and it reached at the tail of the pipeline. It usually means the last handler in the pipeline did not handle the exception.|
org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: java.sql.SQLSyntaxErrorException: Table 'ccdb.user_role' doesn't exist
### The error may exist in com/ela/ccvoice/common/user/mapper/UserRoleMapper.java (best guess)
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: SELECT  id,uid,role_id,create_time,update_time  FROM user_role     WHERE (uid = ?)
### Cause: java.sql.SQLSyntaxErrorException: Table 'ccdb.user_role' doesn't exist
; bad SQL grammar []; nested exception is java.sql.SQLSyntaxErrorException: Table 'ccdb.user_role' doesn't exist
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:239)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:70)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:88)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:440)
	at com.sun.proxy.$Proxy101.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:223)
	at com.baomidou.mybatisplus.core.override.MybatisMapperMethod.executeForMany(MybatisMapperMethod.java:173)
	at com.baomidou.mybatisplus.core.override.MybatisMapperMethod.execute(MybatisMapperMethod.java:78)
	at com.baomidou.mybatisplus.core.override.MybatisMapperProxy$PlainMethodInvoker.invoke(MybatisMapperProxy.java:148)
	at com.baomidou.mybatisplus.core.override.MybatisMapperProxy.invoke(MybatisMapperProxy.java:89)
	at com.sun.proxy.$Proxy116.selectList(Unknown Source)
	at com.baomidou.mybatisplus.extension.conditions.query.ChainQuery.list(ChainQuery.java:39)
	at com.ela.ccvoice.common.user.dao.UserRoleDao.listByUid(UserRoleDao.java:20)
	at com.ela.ccvoice.common.user.dao.UserRoleDao$$FastClassBySpringCGLIB$$20e28e98.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy.invokeMethod(CglibAopProxy.java:386)
	at org.springframework.aop.framework.CglibAopProxy.access$000(CglibAopProxy.java:85)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:704)
	at com.ela.ccvoice.common.user.dao.UserRoleDao$$EnhancerBySpringCGLIB$$c5c175c.listByUid(<generated>)
	at com.ela.ccvoice.common.user.service.cache.UserCache.getRoleSet(UserCache.java:171)
	at com.ela.ccvoice.common.user.service.impl.RoleServiceImpl.hasPower(RoleServiceImpl.java:21)
	at com.ela.ccvoice.common.websocket.service.impl.WebSocketServiceImpl.loginSuccess(WebSocketServiceImpl.java:250)
	at com.ela.ccvoice.common.websocket.service.impl.WebSocketServiceImpl.handleUsernamePasswordLogin(WebSocketServiceImpl.java:148)
	at com.ela.ccvoice.common.websocket.service.impl.WebSocketServiceImpl.handleLoginReq(WebSocketServiceImpl.java:109)
	at com.ela.ccvoice.common.websocket.NettyWebSocketServerHandler.channelRead0(NettyWebSocketServerHandler.java:75)
	at com.ela.ccvoice.common.websocket.NettyWebSocketServerHandler.channelRead0(NettyWebSocketServerHandler.java:19)
	at io.netty.channel.SimpleChannelInboundHandler.channelRead(SimpleChannelInboundHandler.java:99)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.handler.codec.MessageToMessageDecoder.channelRead(MessageToMessageDecoder.java:103)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.channel.ChannelInboundHandlerAdapter.channelRead(ChannelInboundHandlerAdapter.java:93)
	at io.netty.handler.codec.http.websocketx.Utf8FrameValidator.channelRead(Utf8FrameValidator.java:89)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:327)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:299)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:286)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:722)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:658)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:584)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:496)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:986)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.lang.Thread.run(Thread.java:750)
Caused by: java.sql.SQLSyntaxErrorException: Table 'ccdb.user_role' doesn't exist
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:120)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:916)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:354)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.query(PreparedStatementHandler.java:64)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:79)
	at com.baomidou.mybatisplus.core.executor.MybatisSimpleExecutor.doQuery(MybatisSimpleExecutor.java:69)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:325)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:156)
	at com.baomidou.mybatisplus.core.executor.MybatisCachingExecutor.query(MybatisCachingExecutor.java:165)
	at com.baomidou.mybatisplus.core.executor.MybatisCachingExecutor.query(MybatisCachingExecutor.java:92)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:151)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:145)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:140)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:426)
	... 57 common frames omitted
|INFO|2024-12-15 20:47:21.780|NettyClientSelector_1||uid=|closeChannel: close the connection to remote address[111.229.84.34:10911] result: true|
|INFO|2024-12-15 20:47:21.781|NettyClientSelector_1||uid=|closeChannel: close the connection to remote address[111.229.84.34:9876] result: true|
|INFO|2024-12-15 20:47:21.849|NettyClientSelector_1||uid=|closeChannel: close the connection to remote address[111.229.84.34:10911] result: true|
|INFO|2024-12-15 20:47:21.849|NettyClientSelector_1||uid=|closeChannel: close the connection to remote address[111.229.84.34:9876] result: true|
|INFO|2024-12-15 20:47:22.024|SpringApplicationShutdownHook||uid=|container destroyed, DefaultRocketMQListenerContainer{consumerGroup='chat_send_msg_gp', namespace='', nameServer='111.229.84.34:9876', topic='chat_send_msg', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING', tlsEnable=false}|
|INFO|2024-12-15 20:47:22.024|SpringApplicationShutdownHook||uid=|container destroyed, DefaultRocketMQListenerContainer{consumerGroup='test-consumer-group', namespace='', nameServer='111.229.84.34:9876', topic='test-topic', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING', tlsEnable=false}|
|INFO|2024-12-15 20:47:22.102|NettyClientSelector_1||uid=|closeChannel: close the connection to remote address[111.229.84.34:10911] result: true|
|INFO|2024-12-15 20:47:22.102|NettyClientSelector_1||uid=|closeChannel: close the connection to remote address[111.229.84.34:9876] result: true|
|INFO|2024-12-15 20:47:22.167|NettyClientSelector_1||uid=|closeChannel: close the connection to remote address[111.229.84.34:9876] result: true|
|INFO|2024-12-15 20:47:22.168|NettyClientSelector_1||uid=|closeChannel: close the connection to remote address[111.229.84.34:10911] result: true|
|INFO|2024-12-15 20:47:22.221|nioEventLoopGroup-2-1||uid=|[id: 0xf8a1b3c8, L:/0:0:0:0:0:0:0:0:8090] INACTIVE|
|INFO|2024-12-15 20:47:22.222|nioEventLoopGroup-2-1||uid=|[id: 0xf8a1b3c8, L:/0:0:0:0:0:0:0:0:8090] UNREGISTERED|
|INFO|2024-12-15 20:47:24.289|SpringApplicationShutdownHook||uid=|成功关闭websocket server|
|INFO|2024-12-15 20:47:24.290|SpringApplicationShutdownHook||uid=|HikariPool-1 - Shutdown initiated...|
|INFO|2024-12-15 20:47:24.298|SpringApplicationShutdownHook||uid=|HikariPool-1 - Shutdown completed.|
|INFO|2024-12-15 20:47:29.592|main||uid=|Starting ServerApplication using Java 1.8.0_422 on DESKTOP-A5MDFLQ with PID 19552 (D:\JavaCode\Learn\ccvoice-backend\ccvoice-chat-server\target\classes started by Wart in D:\JavaCode\Learn\ccvoice-backend)|
|INFO|2024-12-15 20:47:29.595|main||uid=|The following 1 profile is active: "prod"|
|INFO|2024-12-15 20:47:30.590|main||uid=|Multiple Spring Data modules found, entering strict repository configuration mode!|
|INFO|2024-12-15 20:47:30.592|main||uid=|Bootstrapping Spring Data Redis repositories in DEFAULT mode.|
|INFO|2024-12-15 20:47:30.634|main||uid=|Finished Spring Data repository scanning in 30 ms. Found 0 Redis repository interfaces.|
|INFO|2024-12-15 20:47:31.178|main||uid=|Tomcat initialized with port(s): 8080 (http)|
|INFO|2024-12-15 20:47:31.187|main||uid=|Starting service [Tomcat]|
|INFO|2024-12-15 20:47:31.187|main||uid=|Starting Servlet engine: [Apache Tomcat/9.0.62]|
|INFO|2024-12-15 20:47:31.333|main||uid=|Initializing Spring embedded WebApplicationContext|
|INFO|2024-12-15 20:47:31.333|main||uid=|Root WebApplicationContext: initialization completed in 1701 ms|
|WARN|2024-12-15 20:47:33.080|main||uid=|Unknown channel option 'SO_KEEPALIVE' for channel '[id: 0x41c1fe3a]'|
|INFO|2024-12-15 20:47:33.085|nioEventLoopGroup-2-1||uid=|[id: 0x41c1fe3a] REGISTERED|
|INFO|2024-12-15 20:47:33.087|nioEventLoopGroup-2-1||uid=|[id: 0x41c1fe3a] BIND: 0.0.0.0/0.0.0.0:8090|
|INFO|2024-12-15 20:47:33.088|nioEventLoopGroup-2-1||uid=|[id: 0x41c1fe3a, L:/0:0:0:0:0:0:0:0:8090] ACTIVE|
|INFO|2024-12-15 20:47:33.318|main||uid=|Redisson 3.17.1|
|INFO|2024-12-15 20:47:33.716|redisson-netty-4-18||uid=|1 connections initialized for 111.229.84.34/111.229.84.34:6379|
|INFO|2024-12-15 20:47:33.967|redisson-netty-4-19||uid=|24 connections initialized for 111.229.84.34/111.229.84.34:6379|
|INFO|2024-12-15 20:47:34.117|main||uid=|Exposing 1 endpoint(s) beneath base path '/actuator'|
|WARN|2024-12-15 20:47:34.334|main||uid=|

Using generated security password: f337b419-00d1-429e-b123-175a7a3e19e5

This generated password is for development use only. Your security configuration must be updated before running your application in production.
|
|INFO|2024-12-15 20:47:34.477|main||uid=|Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4d290757, org.springframework.security.web.context.SecurityContextPersistenceFilter@67afe909, org.springframework.security.web.header.HeaderWriterFilter@52a67293, org.springframework.security.web.authentication.logout.LogoutFilter@6fc1a8f6, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6903ed0e, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3212d853, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@720a1fd0, org.springframework.security.web.session.SessionManagementFilter@38f502fc, org.springframework.security.web.access.ExceptionTranslationFilter@15d65fcf, org.springframework.security.web.access.intercept.AuthorizationFilter@b94703b]|
|INFO|2024-12-15 20:47:34.494|main||uid=|Mapped URL path [/v2/api-docs] onto method [springfox.documentation.swagger2.web.Swagger2ControllerWebMvc#getDocumentation(String, HttpServletRequest)]|
|INFO|2024-12-15 20:47:36.962|main||uid=|running container: DefaultRocketMQListenerContainer{consumerGroup='test-consumer-group', namespace='', nameServer='111.229.84.34:9876', topic='test-topic', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING', tlsEnable=false}|
|INFO|2024-12-15 20:47:36.963|main||uid=|Register the listener to container, listenerBeanName:testSendConsumer, containerBeanName:org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer_1|
|INFO|2024-12-15 20:47:37.635|main||uid=|running container: DefaultRocketMQListenerContainer{consumerGroup='chat_send_msg_gp', namespace='', nameServer='111.229.84.34:9876', topic='chat_send_msg', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING', tlsEnable=false}|
|INFO|2024-12-15 20:47:37.635|main||uid=|Register the listener to container, listenerBeanName:msgSendConsumer, containerBeanName:org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer_2|
|INFO|2024-12-15 20:47:37.658|main||uid=|Tomcat started on port(s): 8080 (http) with context path ''|
|INFO|2024-12-15 20:47:37.659|main||uid=|Documentation plugins bootstrapped|
|INFO|2024-12-15 20:47:37.661|main||uid=|Found 1 custom documentation plugin(s)|
|INFO|2024-12-15 20:47:37.683|main||uid=|Scanning for api listing references|
|INFO|2024-12-15 20:47:37.787|main||uid=|Started ServerApplication in 8.602 seconds (JVM running for 9.46)|
|INFO|2024-12-15 20:47:38.336|RMI TCP Connection(1)-172.18.128.1||uid=|Initializing Spring DispatcherServlet 'dispatcherServlet'|
|INFO|2024-12-15 20:47:38.337|RMI TCP Connection(1)-172.18.128.1||uid=|Initializing Servlet 'dispatcherServlet'|
|INFO|2024-12-15 20:47:38.340|RMI TCP Connection(1)-172.18.128.1||uid=|Completed initialization in 3 ms|
|INFO|2024-12-15 20:47:38.342|RMI TCP Connection(2)-172.18.128.1||uid=|HikariPool-1 - Starting...|
|INFO|2024-12-15 20:47:38.734|RMI TCP Connection(2)-172.18.128.1||uid=|HikariPool-1 - Start completed.|
|INFO|2024-12-15 20:47:40.675|nioEventLoopGroup-2-1||uid=|[id: 0x41c1fe3a, L:/0:0:0:0:0:0:0:0:8090] READ: [id: 0xae86b981, L:/127.0.0.1:8090 - R:/127.0.0.1:62598]|
|INFO|2024-12-15 20:47:40.676|nioEventLoopGroup-2-1||uid=|[id: 0x41c1fe3a, L:/0:0:0:0:0:0:0:0:8090] READ COMPLETE|
|INFO|2024-12-15 20:47:42.340|nioEventLoopGroup-3-1||uid=|用户test3登录成功|
|INFO|2024-12-15 21:03:57.675|NettyClientSelector_1||uid=|closeChannel: close the connection to remote address[111.229.84.34:10911] result: true|
|INFO|2024-12-15 21:03:57.676|NettyClientSelector_1||uid=|closeChannel: close the connection to remote address[111.229.84.34:9876] result: true|
|INFO|2024-12-15 21:03:57.745|NettyClientSelector_1||uid=|closeChannel: close the connection to remote address[111.229.84.34:10911] result: true|
|INFO|2024-12-15 21:03:57.745|NettyClientSelector_1||uid=|closeChannel: close the connection to remote address[111.229.84.34:9876] result: true|
|INFO|2024-12-15 21:03:57.908|SpringApplicationShutdownHook||uid=|container destroyed, DefaultRocketMQListenerContainer{consumerGroup='chat_send_msg_gp', namespace='', nameServer='111.229.84.34:9876', topic='chat_send_msg', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING', tlsEnable=false}|
|INFO|2024-12-15 21:03:57.909|SpringApplicationShutdownHook||uid=|container destroyed, DefaultRocketMQListenerContainer{consumerGroup='test-consumer-group', namespace='', nameServer='111.229.84.34:9876', topic='test-topic', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING', tlsEnable=false}|
|INFO|2024-12-15 21:03:57.981|NettyClientSelector_1||uid=|closeChannel: close the connection to remote address[111.229.84.34:10911] result: true|
|INFO|2024-12-15 21:03:57.981|NettyClientSelector_1||uid=|closeChannel: close the connection to remote address[111.229.84.34:9876] result: true|
|INFO|2024-12-15 21:03:58.070|NettyClientSelector_1||uid=|closeChannel: close the connection to remote address[111.229.84.34:10911] result: true|
|INFO|2024-12-15 21:03:58.071|NettyClientSelector_1||uid=|closeChannel: close the connection to remote address[111.229.84.34:9876] result: true|
|INFO|2024-12-15 21:03:58.124|nioEventLoopGroup-2-1||uid=|[id: 0x41c1fe3a, L:/0:0:0:0:0:0:0:0:8090] INACTIVE|
|INFO|2024-12-15 21:03:58.124|nioEventLoopGroup-2-1||uid=|[id: 0x41c1fe3a, L:/0:0:0:0:0:0:0:0:8090] UNREGISTERED|
|INFO|2024-12-15 21:04:00.209|SpringApplicationShutdownHook||uid=|成功关闭websocket server|
|INFO|2024-12-15 21:04:00.210|SpringApplicationShutdownHook||uid=|HikariPool-1 - Shutdown initiated...|
|INFO|2024-12-15 21:04:00.219|SpringApplicationShutdownHook||uid=|HikariPool-1 - Shutdown completed.|
|INFO|2024-12-15 21:04:15.556|main||uid=|Starting ServerApplication using Java 1.8.0_422 on DESKTOP-A5MDFLQ with PID 23884 (D:\JavaCode\Learn\ccvoice-backend\ccvoice-chat-server\target\classes started by Wart in D:\JavaCode\Learn\ccvoice-backend)|
|INFO|2024-12-15 21:04:15.558|main||uid=|The following 1 profile is active: "prod"|
|INFO|2024-12-15 21:04:17.579|main||uid=|Multiple Spring Data modules found, entering strict repository configuration mode!|
|INFO|2024-12-15 21:04:17.582|main||uid=|Bootstrapping Spring Data Redis repositories in DEFAULT mode.|
|INFO|2024-12-15 21:04:17.633|main||uid=|Finished Spring Data repository scanning in 33 ms. Found 0 Redis repository interfaces.|
|INFO|2024-12-15 21:04:18.358|main||uid=|Tomcat initialized with port(s): 8080 (http)|
|INFO|2024-12-15 21:04:18.370|main||uid=|Starting service [Tomcat]|
|INFO|2024-12-15 21:04:18.370|main||uid=|Starting Servlet engine: [Apache Tomcat/9.0.62]|
|INFO|2024-12-15 21:04:18.575|main||uid=|Initializing Spring embedded WebApplicationContext|
|INFO|2024-12-15 21:04:18.576|main||uid=|Root WebApplicationContext: initialization completed in 2970 ms|
|WARN|2024-12-15 21:04:20.499|main||uid=|Unknown channel option 'SO_KEEPALIVE' for channel '[id: 0x49771ccd]'|
|INFO|2024-12-15 21:04:20.507|nioEventLoopGroup-2-1||uid=|[id: 0x49771ccd] REGISTERED|
|INFO|2024-12-15 21:04:20.509|nioEventLoopGroup-2-1||uid=|[id: 0x49771ccd] BIND: 0.0.0.0/0.0.0.0:8090|
|INFO|2024-12-15 21:04:20.510|nioEventLoopGroup-2-1||uid=|[id: 0x49771ccd, L:/0:0:0:0:0:0:0:0:8090] ACTIVE|
|INFO|2024-12-15 21:04:20.789|main||uid=|Redisson 3.17.1|
|INFO|2024-12-15 21:04:21.248|redisson-netty-4-18||uid=|1 connections initialized for 111.229.84.34/111.229.84.34:6379|
|INFO|2024-12-15 21:04:21.495|redisson-netty-4-19||uid=|24 connections initialized for 111.229.84.34/111.229.84.34:6379|
|INFO|2024-12-15 21:04:21.666|main||uid=|Exposing 1 endpoint(s) beneath base path '/actuator'|
|WARN|2024-12-15 21:04:21.869|main||uid=|

Using generated security password: b6440c3b-e706-4255-82e3-66eb2f60e826

This generated password is for development use only. Your security configuration must be updated before running your application in production.
|
|INFO|2024-12-15 21:04:21.998|main||uid=|Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@43deba42, org.springframework.security.web.context.SecurityContextPersistenceFilter@455f4483, org.springframework.security.web.header.HeaderWriterFilter@1a536164, org.springframework.security.web.authentication.logout.LogoutFilter@77c23d90, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7996d0d4, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7e0986c9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@e795a1d, org.springframework.security.web.session.SessionManagementFilter@368424db, org.springframework.security.web.access.ExceptionTranslationFilter@3df77dfa, org.springframework.security.web.access.intercept.AuthorizationFilter@612af486]|
|INFO|2024-12-15 21:04:22.020|main||uid=|Mapped URL path [/v2/api-docs] onto method [springfox.documentation.swagger2.web.Swagger2ControllerWebMvc#getDocumentation(String, HttpServletRequest)]|
|INFO|2024-12-15 21:04:24.382|main||uid=|running container: DefaultRocketMQListenerContainer{consumerGroup='test-consumer-group', namespace='', nameServer='111.229.84.34:9876', topic='test-topic', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING', tlsEnable=false}|
|INFO|2024-12-15 21:04:24.382|main||uid=|Register the listener to container, listenerBeanName:testSendConsumer, containerBeanName:org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer_1|
|INFO|2024-12-15 21:04:25.028|main||uid=|running container: DefaultRocketMQListenerContainer{consumerGroup='chat_send_msg_gp', namespace='', nameServer='111.229.84.34:9876', topic='chat_send_msg', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING', tlsEnable=false}|
|INFO|2024-12-15 21:04:25.028|main||uid=|Register the listener to container, listenerBeanName:msgSendConsumer, containerBeanName:org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer_2|
|INFO|2024-12-15 21:04:25.054|main||uid=|Tomcat started on port(s): 8080 (http) with context path ''|
|INFO|2024-12-15 21:04:25.055|main||uid=|Documentation plugins bootstrapped|
|INFO|2024-12-15 21:04:25.057|main||uid=|Found 1 custom documentation plugin(s)|
|INFO|2024-12-15 21:04:25.078|main||uid=|Scanning for api listing references|
|INFO|2024-12-15 21:04:25.175|main||uid=|Started ServerApplication in 10.298 seconds (JVM running for 12.18)|
|INFO|2024-12-15 21:04:25.587|RMI TCP Connection(1)-172.18.128.1||uid=|Initializing Spring DispatcherServlet 'dispatcherServlet'|
|INFO|2024-12-15 21:04:25.588|RMI TCP Connection(1)-172.18.128.1||uid=|Initializing Servlet 'dispatcherServlet'|
|INFO|2024-12-15 21:04:25.590|RMI TCP Connection(1)-172.18.128.1||uid=|Completed initialization in 2 ms|
|INFO|2024-12-15 21:04:26.012|RMI TCP Connection(3)-172.18.128.1||uid=|HikariPool-1 - Starting...|
|INFO|2024-12-15 21:04:26.272|RMI TCP Connection(3)-172.18.128.1||uid=|HikariPool-1 - Start completed.|
|INFO|2024-12-15 21:04:30.840|nioEventLoopGroup-2-1||uid=|[id: 0x49771ccd, L:/0:0:0:0:0:0:0:0:8090] READ: [id: 0x928d12a4, L:/127.0.0.1:8090 - R:/127.0.0.1:64886]|
|INFO|2024-12-15 21:04:30.841|nioEventLoopGroup-2-1||uid=|[id: 0x49771ccd, L:/0:0:0:0:0:0:0:0:8090] READ COMPLETE|
|INFO|2024-12-15 21:11:25.716|nioEventLoopGroup-2-1||uid=|[id: 0x49771ccd, L:/0:0:0:0:0:0:0:0:8090] READ: [id: 0x7e7e248c, L:/127.0.0.1:8090 - R:/127.0.0.1:65412]|
|INFO|2024-12-15 21:11:25.717|nioEventLoopGroup-2-1||uid=|[id: 0x49771ccd, L:/0:0:0:0:0:0:0:0:8090] READ COMPLETE|
|INFO|2024-12-15 21:11:28.170|nioEventLoopGroup-3-2||uid=|用户test3登录成功|
|INFO|2024-12-15 21:11:47.230|nioEventLoopGroup-3-2||uid=|用户test2登录成功|
|WARN|2024-12-15 21:13:12.160|nioEventLoopGroup-3-2||uid=|Encoded password does not look like BCrypt|
|INFO|2024-12-15 21:13:16.562|nioEventLoopGroup-3-2||uid=|用户test2登录成功|
|INFO|2024-12-15 21:17:37.441|NettyClientSelector_1||uid=|closeChannel: close the connection to remote address[111.229.84.34:10911] result: true|
|INFO|2024-12-15 21:17:37.442|NettyClientSelector_1||uid=|closeChannel: close the connection to remote address[111.229.84.34:9876] result: true|
|INFO|2024-12-15 21:17:37.509|NettyClientSelector_1||uid=|closeChannel: close the connection to remote address[111.229.84.34:10911] result: true|
|INFO|2024-12-15 21:17:37.509|NettyClientSelector_1||uid=|closeChannel: close the connection to remote address[111.229.84.34:9876] result: true|
|INFO|2024-12-15 21:17:37.666|SpringApplicationShutdownHook||uid=|container destroyed, DefaultRocketMQListenerContainer{consumerGroup='chat_send_msg_gp', namespace='', nameServer='111.229.84.34:9876', topic='chat_send_msg', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING', tlsEnable=false}|
|INFO|2024-12-15 21:17:37.666|SpringApplicationShutdownHook||uid=|container destroyed, DefaultRocketMQListenerContainer{consumerGroup='test-consumer-group', namespace='', nameServer='111.229.84.34:9876', topic='test-topic', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING', tlsEnable=false}|
|INFO|2024-12-15 21:17:37.743|NettyClientSelector_1||uid=|closeChannel: close the connection to remote address[111.229.84.34:10911] result: true|
|INFO|2024-12-15 21:17:37.744|NettyClientSelector_1||uid=|closeChannel: close the connection to remote address[111.229.84.34:9876] result: true|
|INFO|2024-12-15 21:17:37.820|NettyClientSelector_1||uid=|closeChannel: close the connection to remote address[111.229.84.34:10911] result: true|
|INFO|2024-12-15 21:17:37.821|NettyClientSelector_1||uid=|closeChannel: close the connection to remote address[111.229.84.34:9876] result: true|
|INFO|2024-12-15 21:17:37.874|nioEventLoopGroup-2-1||uid=|[id: 0x49771ccd, L:/0:0:0:0:0:0:0:0:8090] INACTIVE|
|INFO|2024-12-15 21:17:37.874|nioEventLoopGroup-2-1||uid=|[id: 0x49771ccd, L:/0:0:0:0:0:0:0:0:8090] UNREGISTERED|
|INFO|2024-12-15 21:17:39.877|SpringApplicationShutdownHook||uid=|成功关闭websocket server|
|INFO|2024-12-15 21:17:39.878|SpringApplicationShutdownHook||uid=|HikariPool-1 - Shutdown initiated...|
|INFO|2024-12-15 21:17:39.887|SpringApplicationShutdownHook||uid=|HikariPool-1 - Shutdown completed.|
